{"ast":null,"code":"import _classCallCheck from \"/Users/ville/Development/compound-interest-react/compound-interest-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ville/Development/compound-interest-react/compound-interest-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ville/Development/compound-interest-react/compound-interest-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ville/Development/compound-interest-react/compound-interest-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ville/Development/compound-interest-react/compound-interest-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ville/Development/compound-interest-react/compound-interest-react/src/components/chart.js\";\nimport React from 'react';\nimport * as d3 from 'd3';\n\nvar chart =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(chart, _React$Component);\n\n  function chart() {\n    _classCallCheck(this, chart);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(chart).apply(this, arguments));\n  }\n\n  _createClass(chart, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      //Complete array with data \n      var dataToPaint = [];\n\n      for (var i = 0; i < this.props.data.length; i++) {\n        var thisDeposit = 0;\n\n        if (!!dataToPaint[i - 1]) {\n          thisDeposit = +dataToPaint[i - 1].balance * (1 + this.props.rate / 100) + +this.props.data[i];\n        } else {\n          thisDeposit = +this.props.data[i];\n        }\n\n        dataToPaint.push({\n          time: i,\n          balance: thisDeposit\n        });\n      }\n\n      d3.select(\".graph-container\").selectAll(\"*\").remove();\n      var g = d3.select(\".graph-container\").append(\"g\").attr(\"transform\", \"translate(50, 50)\");\n      var x = d3.scaleLinear().domain(d3.extent(dataToPaint, function (d) {\n        return d.time;\n      })).rangeRound([0, 500]);\n      var y = d3.scaleLinear().domain(d3.extent(dataToPaint, function (d) {\n        return d.balance;\n      })).rangeRound([300, 0]);\n      var line = d3.line().x(function (d) {\n        return x(d.time);\n      }).y(function (d) {\n        return y(d.balance);\n      });\n      g.append(\"g\").attr(\"transform\", \"translate(0,300)\").call(d3.axisBottom(x)).select(\".domain\").remove();\n      g.append(\"g\").call(d3.axisLeft(y)).append(\"text\").attr(\"fill\", \"#000\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 6).attr(\"dy\", \"0.71em\").attr(\"text-anchor\", \"end\").text(\"Balance ($)\");\n      g.append(\"path\").datum(dataToPaint).attr(\"fill\", \"none\").attr(\"stroke\", \"steelblue\").attr(\"stroke-linejoin\", \"round\").attr(\"stroke-linecap\", \"round\").attr(\"stroke-width\", 1.5).attr(\"d\", line);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"svg\", {\n        className: \"graph-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return chart;\n}(React.Component);\n\nexport default chart;","map":{"version":3,"sources":["/Users/ville/Development/compound-interest-react/compound-interest-react/src/components/chart.js"],"names":["React","d3","chart","dataToPaint","i","props","data","length","thisDeposit","balance","rate","push","time","select","selectAll","remove","g","append","attr","x","scaleLinear","domain","extent","d","rangeRound","y","line","call","axisBottom","axisLeft","text","datum","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\n\nclass chart extends React.Component {\n\tcomponentDidUpdate() {\n\n\t\t//Complete array with data \n\t\tvar dataToPaint = [];\n\t\tfor(var i = 0; i < this.props.data.length; i++){\t\t\n\t\t\tvar thisDeposit = 0;\n\t\t\tif(!!dataToPaint[i - 1]){\n\t\t\t\tthisDeposit = (+dataToPaint[i - 1].balance * (1 + (this.props.rate)/100)) + +this.props.data[i];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthisDeposit = +this.props.data[i];\n\t\t\t}\n\n\t\t\tdataToPaint.push({\n\t\t\t\ttime: i,\n\t\t\t\tbalance: thisDeposit\n\t\t\t})\n\t\t}\n\n\t\td3.select(\".graph-container\").selectAll(\"*\").remove();\n\n\n\t\tvar g = d3.select(\".graph-container\")\n\t\t\t\t\t.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(50, 50)\");\n\n\t\tvar x = d3.scaleLinear().domain(d3.extent(dataToPaint, function(d){return d.time})).rangeRound([0, 500]);\n\t\tvar y = d3.scaleLinear().domain(d3.extent(dataToPaint, function(d){return d.balance})).rangeRound([300, 0]);\n\n\t\tvar line = d3.line()\n\t\t.x(function(d){\n\t\t\treturn x(d.time);\n\t\t})\n\t\t.y(function(d){\n\t\t\treturn y(d.balance);\n\t\t});\n\n\t\t g.append(\"g\")\n\t\t\t.attr(\"transform\", \"translate(0,300)\")\n\t\t\t.call(d3.axisBottom(x))\n\t\t\t.select(\".domain\")\n\t\t\t.remove();\n\n\t\tg.append(\"g\")\n\t\t\t.call(d3.axisLeft(y))\n\t\t\t.append(\"text\")\n\t\t\t.attr(\"fill\", \"#000\")\n\t\t\t.attr(\"transform\", \"rotate(-90)\")\n\t\t\t.attr(\"y\", 6)\n\t\t\t.attr(\"dy\", \"0.71em\")\n\t\t\t.attr(\"text-anchor\", \"end\")\n\t\t\t.text(\"Balance ($)\");\n\n\t\t  g.append(\"path\")\n\t\t      .datum(dataToPaint)\n\t\t      .attr(\"fill\", \"none\")\n\t\t      .attr(\"stroke\", \"steelblue\")\n\t\t      .attr(\"stroke-linejoin\", \"round\")\n\t\t      .attr(\"stroke-linecap\", \"round\")\n\t\t      .attr(\"stroke-width\", 1.5)\n\t\t      .attr(\"d\", line);\n\n\t};\n\n\trender(){\n\t\treturn (\n\t\t<div className=\"main\">\n\t\t\t<svg className=\"graph-container\"></svg>\n\t      </div>\n\t\t);\n\t}\n}\n\n\nexport default chart;\n\n"]},"metadata":{},"sourceType":"module"}